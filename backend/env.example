# ===================================================
# StreamBridge Backend Configuration
# ===================================================

# ------------------- Database -------------------
# Option 1: Use full DATABASE_URL (recommended)
# For local development: use @localhost
# For Docker: use @postgres
DATABASE_URL=postgresql://streambridge:streambridge_secret_2024@localhost:5432/streambridge

# Option 2: Use individual DB components (DATABASE_URL takes priority)
# DB_HOST=localhost
# DB_PORT=5432
# DB_USER=streambridge
# DB_PASSWORD=streambridge_secret_2024
# DB_NAME=streambridge

# ------------------- JWT Configuration -------------------
# JWT Secret for Authentication
# IMPORTANT: Change this in production!
# Generate new: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=4f8a5c2e9b1d6f3a7e0c8b4a2d9f6e1c3b7a5d8f2e6c9b3a1f7d4e8c2b5a9f6e3

# JWT Token Expiration (default: 7d)
# Examples: 60s, 10m, 2h, 7d, 30d
JWT_EXPIRES_IN=7d

# JWT Cookie Name (default: auth_token)
JWT_COOKIE_NAME=auth_token

# ------------------- Security -------------------
# Bcrypt Salt Rounds (10-12 recommended for production)
# Higher = more secure but slower
BCRYPT_SALT_ROUNDS=10

# ------------------- Server Configuration -------------------
# Server Port
PORT=4000

# Node Environment
# Options: development, production, test
NODE_ENV=development

# ------------------- CORS Configuration -------------------
# CORS Origin (comma-separated for multiple origins)
# Use * for development, specific domains for production
# IMPORTANT: For cookies to work with CORS, set specific origin (not *)
# Example: http://localhost:3000 or https://yourdomain.com
CORS_ORIGIN=http://localhost:3000

# ------------------- Cookie Configuration -------------------
# Cookie SameSite Setting (strict, lax, none)
# Use 'lax' for most cases, 'none' for cross-site requests (requires secure: true)
COOKIE_SAME_SITE=lax

# ------------------- RTMP Configuration -------------------
# RTMP Server URL (used internally by backend for FFmpeg relay)
# For local development: rtmp://localhost/live
# For Docker: rtmp://nginx-rtmp/live
# For production: rtmp://YOUR_RTMP_SERVER_IP/live
RTMP_SERVER_URL=rtmp://localhost/live

# RTMP Port (default: 1935)
RTMP_PORT=1935

# ------------------- Google OAuth Configuration -------------------
# Get these from Google Cloud Console: https://console.cloud.google.com/
# 1. Create a project
# 2. Enable Google+ API
# 3. Create OAuth 2.0 credentials
# 4. Add authorized redirect URI: http://localhost:4000/api/auth/google/callback
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_CALLBACK_URL=http://localhost:4000/api/auth/google/callback

# ------------------- Logging -------------------
# Log Level (future enhancement)
# Options: debug, info, warn, error
# LOG_LEVEL=info
