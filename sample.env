# ===================================================
# GoStream Docker Compose Environment Variables
# ===================================================
# Copy this file to .env and customize as needed
# cp sample.env .env
#
# All variables have defaults in docker-compose.yml
# You only need to set values you want to override
# ===================================================

# ------------------- Host Configuration -------------------
# Your machine's IP address (for accessing from other devices on network)
# Leave empty to use localhost (only accessible from same machine)
# Find your IP: 
#   Mac/Linux: ifconfig | grep "inet " | grep -v 127.0.0.1
#   Windows: ipconfig | findstr IPv4
# Example: HOST_IP=192.168.1.100
# HOST_IP=

# ------------------- Database Configuration -------------------
POSTGRES_USER=gostream
POSTGRES_PASSWORD=gostream_secret_2024
POSTGRES_DB=gostream
POSTGRES_PORT=5432

# DATABASE_URL (Optional - docker-compose.yml builds this automatically)
# For Docker Compose: Use service name "postgres" (already set in docker-compose.yml)
# For local development (not Docker): Use localhost or IP address
# Example: DATABASE_URL=postgresql://gostream:gostream_secret_2024@localhost:5432/gostream
# DATABASE_URL=

# ------------------- Backend Configuration -------------------
# Backend API Port
BACKEND_PORT=4000

# JWT Secret for Authentication
# Generate new: openssl rand -base64 32
JWT_SECRET=4f8a5c2e9b1d6f3a7e0c8b4a2d9f6e1c3b7a5d8f2e6c9b3a1f7d4e8c2b5a9f6e3

# Cookie Secret
# Generate new: openssl rand -base64 32
COOKIE_SECRET=4f8a5c2e9b1d6f3a7e0c8b4a2d9f6e1c3b7a5d8f2e6c9b3a1f7d4e8c2b5a9f6e3

# Node Environment
# Options: development, production, test
NODE_ENV=production

# CORS Origin (comma-separated for multiple origins)
# For local development: http://localhost:3000
# For production: https://yourdomain.com
CORS_ORIGIN=http://localhost:3000

# ------------------- Frontend Configuration -------------------
# Frontend Port
FRONTEND_PORT=3000

# Backend API URL (accessible from browser)
# For local: http://localhost:4000
# For network access: http://YOUR_IP:4000 (set HOST_IP above)
# For production: https://api.yourdomain.com
# Note: If HOST_IP is set, you can use: http://${HOST_IP}:4000
NEXT_PUBLIC_API_URL=http://localhost:4000

# HLS Streaming URL (accessible from browser)
# For local: http://localhost:8080/hls
# For network access: http://YOUR_IP:8080/hls (set HOST_IP above)
# For production: https://rtmp.yourdomain.com/hls
# Note: If HOST_IP is set, you can use: http://${HOST_IP}:8080/hls
NEXT_PUBLIC_HLS_URL=http://localhost:8080/hls

# ------------------- RTMP Server Configuration -------------------
# RTMP Port (default: 1935)
RTMP_PORT=1935

# HLS HTTP Port (default: 8080)
HLS_PORT=8080

# RTMP Server URL for OBS (what users see in dashboard)
# For local: rtmp://localhost:1935/live
# For network access: rtmp://YOUR_IP:1935/live (set HOST_IP above)
# For production: rtmp://rtmp.yourdomain.com:1935/live
# Note: This is informational - actual RTMP connection uses RTMP_PORT
# RTMP_URL=rtmp://localhost:1935/live

# ------------------- Optional: Google OAuth -------------------
# Uncomment and configure if using Google OAuth
# GOOGLE_CLIENT_ID=your_google_client_id_here
# GOOGLE_CLIENT_SECRET=your_google_client_secret_here
# GOOGLE_CALLBACK_URL=http://localhost:4000/api/auth/google/callback

# ------------------- Optional: Advanced Settings -------------------
# JWT Token Expiration (default: 7d)
# Examples: 60s, 10m, 2h, 7d, 30d
# JWT_EXPIRES_IN=7d

# Bcrypt Salt Rounds (default: 10)
# Higher = more secure but slower
# BCRYPT_SALT_ROUNDS=10

# Cookie SameSite Setting (default: lax)
# Options: strict, lax, none
# COOKIE_SAME_SITE=lax

